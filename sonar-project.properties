# SonarCloud Configuration for Stone Soup
# See: https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

# Project identification
sonar.projectKey=montge_Stone-Soup
sonar.organization=montge
sonar.projectName=Stone Soup
sonar.projectVersion=1.0

# Source code configuration
sonar.sources=stonesoup,libstonesoup/src,bindings
sonar.tests=stonesoup,libstonesoup/tests,bindings
sonar.test.inclusions=**/test_*.py,**/tests/**/*,**/*_test.rs,**/*Test.java
sonar.sourceEncoding=UTF-8

# Python configuration
sonar.python.version=3.10,3.11,3.12,3.13
sonar.python.coverage.reportPaths=coverage.xml

# C/C++ configuration (libstonesoup)
# SonarCloud uses the Generic Test Coverage Report Format for C/C++
# LCOV files are converted or use sonar.coverageReportPaths
sonar.cfamily.gcov.reportsPath=libstonesoup/build

# Exclusions
sonar.exclusions=\
    **/node_modules/**,\
    **/venv/**,\
    **/.venv/**,\
    **/build/**,\
    **/dist/**,\
    **/*.min.js,\
    **/docs/**,\
    **/__pycache__/**,\
    **/.pytest_cache/**,\
    **/target/**,\
    **/bindings/nodejs/node_modules/**

# Test exclusions (don't analyze tests as production code)
sonar.coverage.exclusions=\
    **/test_*.py,\
    **/tests/**,\
    **/*_test.rs,\
    **/*Test.java,\
    **/conftest.py

# Duplication exclusions
sonar.cpd.exclusions=\
    **/test_*.py,\
    **/tests/**

# Quality gate settings (enforced via SonarCloud UI)
# These are documented here for reference:
# - Overall coverage: >= 90%
# - Branch coverage: >= 80%
# - New code coverage: >= 95%
# - Duplicated lines: < 3%
# - Maintainability rating: A
# - Security rating: A
# - Reliability rating: A

# Language-specific settings
sonar.java.source=11
sonar.java.binaries=bindings/java/target/classes

# Rust analysis (via SonarCloud community plugins or external tools)
# Rust coverage reports from cargo-llvm-cov
sonar.rust.coverage.reportPaths=bindings/rust/lcov.info
